#!/bin/sh

VIDEO_WIDTH=13
VIDEO_HEIGHT=11

# exit if terminal is smaller than the gif
if [ $(tput cols) -lt $VIDEO_WIDTH -o $(tput lines) -lt $VIDEO_HEIGHT ]
then
  printf "\033[91mterminal is too small\nmust be at least $VIDEO_WIDTH by $VIDEO_HEIGHT cells\033[0m\n" >&2
  exit 1
fi

# hide prompt
stty -echo
printf '\033[?25l'

move_up="\033[$(expr $VIDEO_HEIGHT - 1)F"

# cleanup after exit
cleanup() {
  printf "$move_up\033[0J\033[?25h\033[0m"
  stty echo
  exit 0
}

trap cleanup INT

# moves cursor up and redraws frame
draw() {
  printf "$move_up$1"
  sleep 0.1
}

# allocate space
yes '' | head -n $(expr $VIDEO_HEIGHT - 1)

# main loop
while true
do
  draw '    \033[93m. c O    \n     \033[96mc \033[95mO     \n      V      \n    \033[97m[_ ]\033[92m]    \n     \033[95m( \033[96m)     \n      \033[95m\134      \n\033[97m__\033[91mc. \033[96m( \033[95m) \033[94mO  .\n  \033[92m\134__\033[97m.\033[96m\134\033[97m.  /  \n     ) (\033[92mVV   \n    \033[97m/___\134    \n      \033[92m)\134   \033[97mOB'
  draw '\033[4C \033[1C\033[93m.\033[1Cc\n\033[10CO\033[4E\033[91mO\033[7C\033[94mO\n \033[97m|\033[91m. \033[5C\033[94mc\033[2C \n\033[9C\033[97m/ \n\033[8C\033[92mW \n\n\033[13C'
  draw '\033[6C \033[1C\033[93m.\n\033[5C \033[95mO \033[2C\033[93mc\n\033[6C\033[95m|\033[4C\033[93mO\n\033[4C \033[97m[\033[1C\033[92m] \n\033[91mO\033[4C \033[96m\134 \n\033[91mc\033[4C\033[95m( \033[96m)\033[94mc\n\033[1C \033[97m/\033[2C \033[95m\134 \033[1C\033[94m.\n\033[5C\033[96m(\033[97m_\033[95m)\033[1C\033[97m|\n\n\n\033[13C'
  draw '\033[8C \n\033[10C\033[93m.\n\033[11Cc\n\033[91mO\033[11C\033[93mO\n\033[91mc\n.\033[5C\033[94mO\033[1C.\n\033[2C \033[6C \n\033[2C\033[97m|  \n\033[3C\033[92m\134/\n\n\033[13C'
  draw '\n\033[5C\033[95mO \033[96mo\033[2C \n\033[1C\033[91mO\033[4C\033[95mV\033[4C\033[93m.\n\033[91mc\033[3C\033[97m[\033[92m[_ ]\033[3C\033[93mc\n\033[91m.\033[11C\033[93mO\n \033[5C\033[94mc\033[1C \n\n\033[2C\033[97m\134\033[6C |\n\033[8C\033[92mVV\n\n\033[13C'
  draw '\n\033[2C\033[91mO\n\033[1Cc\033[9C \n.\033[11C\033[93m.\n \033[11Cc\n\033[4C\033[94mO\033[1C.\033[5C\033[93mO\n\n\033[1C\033[97m__\033[7C \033[1C/\n\033[8C\033[92m\134/\134/\n\n\033[13C'
  draw '\033[4C\033[91mO\n\033[2Cc\033[1C\033[95mo \033[1C \033[96mo\n\033[1C\033[91m.\033[3C\033[95m\134\033[92m.\033[96m/\n \033[3C\033[92m[_\033[6C \n\033[5C\033[96m\134 \033[95m/\033[4C\033[93m.\n\033[4C\033[94mc \033[96m\134 \033[4C\033[93mc\n\033[3C\033[94mO\033[1C\033[95m( \033[96m)\033[4C\033[93mO\n\033[5C\033[97m.\033[95m\134\033[97m.\n\n\n\033[5C\033[92m( )\033[5C'
  draw '\033[4C\033[91mc\033[1CO\n\033[2C.\n\033[1C \n\n\033[12C \n\033[4C\033[94m.\033[7C\033[93m.\n\033[97m__\033[94mOc\033[8C\033[93mc\n\033[1C \033[92m\134__\033[5C\033[93mO\n\033[3C  \n\n\033[13C'
  draw '\033[4C\033[91m.\033[1Cc\033[1CO\n\033[2C \033[1C \033[95mc\033[1C\033[96mO \n\033[5C V \n\033[6C \033[92m]\033[97m]\n\033[5C\033[96m(\033[1C\033[95m)\n\033[4C \033[7C \n\033[2C\033[94mc.\033[5C\033[93mO\033[2C.\n\033[10C\033[97m/\033[1C \n\033[8C\033[92mVV  \n\n\033[13C'
  draw '\033[4C \033[1C\033[91m.\033[1Cc\n\033[10CO\033[4E\033[94mO\033[7C\033[93mO\n \033[97m|\033[94m. \033[5C\033[93mc\033[2C \n\033[9C\033[97m/ \n\033[8C\033[92mW \n\n\033[13C'
  draw '\033[6C \033[1C\033[91m.\n\033[5C \033[96mO \033[2C\033[91mc\n\033[6C\033[96m|\033[4C\033[91mO\n\033[4C \033[92m[\033[1C\033[97m] \n\033[94mO\033[4C \033[95m\134 \n\033[94mc\033[4C\033[96m( \033[95m)\033[93mc\n\033[1C \033[97m/\033[2C \033[96m\134 \033[1C\033[93m.\n\033[5C\033[95m(\033[97m_\033[96m)\033[1C\033[97m|\n\n\n\033[13C'
  draw '\033[8C \n\033[10C\033[91m.\n\033[11Cc\n\033[94mO\033[11C\033[91mO\n\033[94mc\n.\033[5C\033[93mO\033[1C.\n\033[2C \033[6C \n\033[2C\033[97m|  \n\033[3C\033[92m\134/\n\n\033[13C'
  draw '\n\033[5C\033[96mO \033[95mo\033[2C \n\033[1C\033[94mO\033[4C\033[96mV\033[4C\033[91m.\n\033[94mc\033[3C\033[92m[\033[97m[_ ]\033[3C\033[91mc\n\033[94m.\033[11C\033[91mO\n \033[5C\033[93mc\033[1C \n\n\033[2C\033[97m\134\033[6C |\n\033[8C\033[92mVV\n\n\033[5C/( \033[5C'
  draw '\n\033[2C\033[94mO\n\033[1Cc\033[9C \n.\033[11C\033[91m.\n \033[11Cc\n\033[4C\033[93mO\033[1C.\033[5C\033[91mO\n\n\033[1C\033[97m__\033[7C \033[1C/\n\033[8C\033[92m\134/\134/\n\n\033[13C'
  draw '\033[4C\033[94mO\n\033[2Cc\033[1C\033[96mo \033[1C \033[95mo\n\033[1C\033[94m.\033[3C\033[96m\134\033[97m.\033[95m/\n \033[3C\033[97m[_\033[6C \n\033[5C\033[95m\134 \033[96m/\033[4C\033[91m.\n\033[4C\033[93mc \033[95m\134 \033[4C\033[91mc\n\033[3C\033[93mO\033[1C\033[96m( \033[95m)\033[4C\033[91mO\n\033[5C\033[97m.\033[96m\134\033[97m.\n\n\n\033[13C'
  draw '\033[4C\033[94mc\033[1CO\n\033[2C.\n\033[1C \n\n\033[12C \n\033[4C\033[93m.\033[7C\033[91m.\n\033[97m__\033[93mOc\033[8C\033[91mc\n\033[1C \033[92m\134__\033[5C\033[91mO\n\033[3C  \n\n\033[13C'
  draw '\033[4C\033[94m.\033[1Cc\033[1CO\n\033[2C \033[1C \033[96mc\033[1C\033[95mO \n\033[5C V \n\033[6C \033[97m]\033[92m]\n\033[5C\033[95m(\033[1C\033[96m)\n\033[4C \033[7C \n\033[2C\033[93mc.\033[5C\033[91mO\033[2C.\n\033[10C\033[97m/\033[1C \n\033[8C\033[92mVV  \n\n\033[13C'
  draw '\033[4C \033[1C\033[94m.\033[1Cc\n\033[10CO\033[4E\033[93mO\033[7C\033[91mO\n \033[97m|\033[93m. \033[5C\033[91mc\033[2C \n\033[9C\033[97m/ \n\033[8C\033[92mW \n\n\033[13C'
  draw '\033[6C \033[1C\033[94m.\n\033[5C \033[95mO \033[2C\033[94mc\n\033[6C\033[95m|\033[4C\033[94mO\n\033[4C \033[97m[\033[1C\033[92m] \n\033[93mO\033[4C \033[96m\134 \n\033[93mc\033[4C\033[95m( \033[96m)\033[91mc\n\033[1C \033[97m/\033[2C \033[95m\134 \033[1C\033[91m.\n\033[5C\033[96m(\033[97m_\033[95m)\033[1C\033[97m|\n\n\n\033[5C\033[92m( )\033[5C'
  draw '\033[8C \n\033[10C\033[94m.\n\033[11Cc\n\033[93mO\033[11C\033[94mO\n\033[93mc\n.\033[5C\033[91mO\033[1C.\n\033[2C \033[6C \n\033[2C\033[97m|  \n\033[3C\033[92m\134/\n\n\033[13C'
  draw '\n\033[5C\033[95mO \033[96mo\033[2C \n\033[1C\033[93mO\033[4C\033[95mV\033[4C\033[94m.\n\033[93mc\033[3C\033[97m[\033[92m[_ ]\033[3C\033[94mc\n\033[93m.\033[11C\033[94mO\n \033[5C\033[91mc\033[1C \n\n\033[2C\033[97m\134\033[6C |\n\033[8C\033[92mVV\n\n\033[13C'
  draw '\n\033[2C\033[93mO\n\033[1Cc\033[9C \n.\033[11C\033[94m.\n \033[11Cc\n\033[4C\033[91mO\033[1C.\033[5C\033[94mO\n\n\033[1C\033[97m__\033[7C \033[1C/\n\033[8C\033[92m\134/\134/\n\n\033[13C'
  draw '\033[4C\033[93mO\n\033[2Cc\033[1C\033[95mo \033[1C \033[96mo\n\033[1C\033[93m.\033[3C\033[95m\134\033[92m.\033[96m/\n \033[3C\033[92m[_\033[6C \n\033[5C\033[96m\134 \033[95m/\033[4C\033[94m.\n\033[4C\033[91mc \033[96m\134 \033[4C\033[94mc\n\033[3C\033[91mO\033[1C\033[95m( \033[96m)\033[4C\033[94mO\n\033[5C\033[97m.\033[95m\134\033[97m.\n\n\n\033[13C'
  draw '\033[4C\033[93mc\033[1CO\n\033[2C.\n\033[1C \n\n\033[12C \n\033[4C\033[91m.\033[7C\033[94m.\n\033[97m__\033[91mOc\033[8C\033[94mc\n\033[1C \033[92m\134__\033[5C\033[94mO\n\033[3C  \n\n\033[13C'
  draw '\033[4C\033[93m.\033[1Cc\033[1CO\n\033[2C \033[1C \033[95mc\033[1C\033[96mO \n\033[5C V \n\033[6C \033[92m]\033[97m]\n\033[5C\033[96m(\033[1C\033[95m)\n\033[4C \033[7C \n\033[2C\033[91mc.\033[5C\033[94mO\033[2C.\n\033[10C\033[97m/\033[1C \n\033[8C\033[92mVV  \n\n\033[5C )\134\033[5C'
  draw '\033[4C \033[1C\033[93m.\033[1Cc\n\033[10CO\033[4E\033[91mO\033[7C\033[94mO\n \033[97m|\033[91m. \033[5C\033[94mc\033[2C \n\033[9C\033[97m/ \n\033[8C\033[92mW \n\n\033[13C'
  draw '\033[6C \033[1C\033[93m.\n\033[5C \033[96mO \033[2C\033[93mc\n\033[6C\033[96m|\033[4C\033[93mO\n\033[4C \033[92m[\033[1C\033[97m] \n\033[91mO\033[4C \033[95m\134 \n\033[91mc\033[4C\033[96m( \033[95m)\033[94mc\n\033[1C \033[97m/\033[2C \033[96m\134 \033[1C\033[94m.\n\033[5C\033[95m(\033[97m_\033[96m)\033[1C\033[97m|\n\n\n\033[13C'
  draw '\033[8C \n\033[10C\033[93m.\n\033[11Cc\n\033[91mO\033[11C\033[93mO\n\033[91mc\n.\033[5C\033[94mO\033[1C.\n\033[2C \033[6C \n\033[2C\033[97m|  \n\033[3C\033[92m\134/\n\n\033[13C'
  draw '\n\033[5C\033[96mO \033[95mo\033[2C \n\033[1C\033[91mO\033[4C\033[96mV\033[4C\033[93m.\n\033[91mc\033[3C\033[92m[\033[97m[_ ]\033[3C\033[93mc\n\033[91m.\033[11C\033[93mO\n \033[5C\033[94mc\033[1C \n\n\033[2C\033[97m\134\033[6C |\n\033[8C\033[92mVV\n\n\033[13C'
  draw '\n\033[2C\033[91mO\n\033[1Cc\033[9C \n.\033[11C\033[93m.\n \033[11Cc\n\033[4C\033[94mO\033[1C.\033[5C\033[93mO\n\n\033[1C\033[97m__\033[7C \033[1C/\n\033[8C\033[92m\134/\134/\n\n\033[13C'
  draw '\033[4C\033[91mO\n\033[2Cc\033[1C\033[96mo \033[1C \033[95mo\n\033[1C\033[91m.\033[3C\033[96m\134\033[97m.\033[95m/\n \033[3C\033[97m[_\033[6C \n\033[5C\033[95m\134 \033[96m/\033[4C\033[93m.\n\033[4C\033[94mc \033[95m\134 \033[4C\033[93mc\n\033[3C\033[94mO\033[1C\033[96m( \033[95m)\033[4C\033[93mO\n\033[5C\033[97m.\033[96m\134\033[97m.\n\n\n\033[5C\033[92m( )\033[5C'
  draw '\033[4C\033[91mc\033[1CO\n\033[2C.\n\033[1C \n\n\033[12C \n\033[4C\033[94m.\033[7C\033[93m.\n\033[97m__\033[94mOc\033[8C\033[93mc\n\033[1C \033[92m\134__\033[5C\033[93mO\n\033[3C  \n\n\033[13C'
  draw '\033[4C\033[91m.\033[1Cc\033[1CO\n\033[2C \033[1C \033[96mc\033[1C\033[95mO \n\033[5C V \n\033[6C \033[97m]\033[92m]\n\033[5C\033[95m(\033[1C\033[96m)\n\033[4C \033[7C \n\033[2C\033[94mc.\033[5C\033[93mO\033[2C.\n\033[10C\033[97m/\033[1C \n\033[8C\033[92mVV  \n\n\033[13C'
  draw '\033[4C \033[1C\033[91m.\033[1Cc\n\033[10CO\033[4E\033[94mO\033[7C\033[93mO\n \033[97m|\033[94m. \033[5C\033[93mc\033[2C \n\033[9C\033[97m/ \n\033[8C\033[92mW \n\n\033[13C'
  draw '\033[6C \033[1C\033[91m.\n\033[5C \033[95mO \033[2C\033[91mc\n\033[6C\033[95m|\033[4C\033[91mO\n\033[4C \033[97m[\033[1C\033[92m] \n\033[94mO\033[4C \033[96m\134 \n\033[94mc\033[4C\033[95m( \033[96m)\033[93mc\n\033[1C \033[97m/\033[2C \033[95m\134 \033[1C\033[93m.\n\033[5C\033[96m(\033[97m_\033[95m)\033[1C\033[97m|\n\n\n\033[13C'
  draw '\033[8C \n\033[10C\033[91m.\n\033[11Cc\n\033[94mO\033[11C\033[91mO\n\033[94mc\n.\033[5C\033[93mO\033[1C.\n\033[2C \033[6C \n\033[2C\033[97m|  \n\033[3C\033[92m\134/\n\n\033[13C'
  draw '\n\033[5C\033[95mO \033[96mo\033[2C \n\033[1C\033[94mO\033[4C\033[95mV\033[4C\033[91m.\n\033[94mc\033[3C\033[97m[\033[92m[_ ]\033[3C\033[91mc\n\033[94m.\033[11C\033[91mO\n \033[5C\033[93mc\033[1C \n\n\033[2C\033[97m\134\033[6C |\n\033[8C\033[92mVV\n\n\033[5C/( \033[5C'
  draw '\n\033[2C\033[94mO\n\033[1Cc\033[9C \n.\033[11C\033[91m.\n \033[11Cc\n\033[4C\033[93mO\033[1C.\033[5C\033[91mO\n\n\033[1C\033[97m__\033[7C \033[1C/\n\033[8C\033[92m\134/\134/\n\n\033[13C'
  draw '\033[4C\033[94mO\n\033[2Cc\033[1C\033[95mo \033[1C \033[96mo\n\033[1C\033[94m.\033[3C\033[95m\134\033[92m.\033[96m/\n \033[3C\033[92m[_\033[6C \n\033[5C\033[96m\134 \033[95m/\033[4C\033[91m.\n\033[4C\033[93mc \033[96m\134 \033[4C\033[91mc\n\033[3C\033[93mO\033[1C\033[95m( \033[96m)\033[4C\033[91mO\n\033[5C\033[97m.\033[95m\134\033[97m.\n\n\n\033[13C'
  draw '\033[4C\033[94mc\033[1CO\n\033[2C.\n\033[1C \n\n\033[12C \n\033[4C\033[93m.\033[7C\033[91m.\n\033[97m__\033[93mOc\033[8C\033[91mc\n\033[1C \033[92m\134__\033[5C\033[91mO\n\033[3C  \n\n\033[13C'
  draw '\033[4C\033[94m.\033[1Cc\033[1CO\n\033[2C \033[1C \033[95mc\033[1C\033[96mO \n\033[5C V \n\033[6C \033[92m]\033[97m]\n\033[5C\033[96m(\033[1C\033[95m)\n\033[4C \033[7C \n\033[2C\033[93mc.\033[5C\033[91mO\033[2C.\n\033[10C\033[97m/\033[1C \n\033[8C\033[92mVV  \n\n\033[13C'
  draw '\033[4C \033[1C\033[94m.\033[1Cc\n\033[10CO\033[4E\033[93mO\033[7C\033[91mO\n \033[97m|\033[93m. \033[5C\033[91mc\033[2C \n\033[9C\033[97m/ \n\033[8C\033[92mW \n\n\033[13C'
  draw '\033[6C \033[1C\033[94m.\n\033[5C \033[96mO \033[2C\033[94mc\n\033[6C\033[96m|\033[4C\033[94mO\n\033[4C \033[92m[\033[1C\033[97m] \n\033[93mO\033[4C \033[95m\134 \n\033[93mc\033[4C\033[96m( \033[95m)\033[91mc\n\033[1C \033[97m/\033[2C \033[96m\134 \033[1C\033[91m.\n\033[5C\033[95m(\033[97m_\033[96m)\033[1C\033[97m|\n\n\n\033[5C\033[92m( )\033[5C'
  draw '\033[8C \n\033[10C\033[94m.\n\033[11Cc\n\033[93mO\033[11C\033[94mO\n\033[93mc\n.\033[5C\033[91mO\033[1C.\n\033[2C \033[6C \n\033[2C\033[97m|  \n\033[3C\033[92m\134/\n\n\033[13C'
  draw '\n\033[5C\033[96mO \033[95mo\033[2C \n\033[1C\033[93mO\033[4C\033[96mV\033[4C\033[94m.\n\033[93mc\033[3C\033[92m[\033[97m[_ ]\033[3C\033[94mc\n\033[93m.\033[11C\033[94mO\n \033[5C\033[91mc\033[1C \n\n\033[2C\033[97m\134\033[6C |\n\033[8C\033[92mVV\n\n\033[13C'
  draw '\n\033[2C\033[93mO\n\033[1Cc\033[9C \n.\033[11C\033[94m.\n \033[11Cc\n\033[4C\033[91mO\033[1C.\033[5C\033[94mO\n\n\033[1C\033[97m__\033[7C \033[1C/\n\033[8C\033[92m\134/\134/\n\n\033[13C'
  draw '\033[4C\033[93mO\n\033[2Cc\033[1C\033[96mo \033[1C \033[95mo\n\033[1C\033[93m.\033[3C\033[96m\134\033[97m.\033[95m/\n \033[3C\033[97m[_\033[6C \n\033[5C\033[95m\134 \033[96m/\033[4C\033[94m.\n\033[4C\033[91mc \033[95m\134 \033[4C\033[94mc\n\033[3C\033[91mO\033[1C\033[96m( \033[95m)\033[4C\033[94mO\n\033[5C\033[97m.\033[96m\134\033[97m.\n\n\n\033[13C'
  draw '\033[4C\033[93mc\033[1CO\n\033[2C.\n\033[1C \n\n\033[12C \n\033[4C\033[91m.\033[7C\033[94m.\n\033[97m__\033[91mOc\033[8C\033[94mc\n\033[1C \033[92m\134__\033[5C\033[94mO\n\033[3C  \n\n\033[13C'
done