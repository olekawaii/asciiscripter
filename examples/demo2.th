-- This program evaluates an infinite datastructure. Note that the 
-- memory usage stays constant as the it's perpetually printed.

define main of_type nat as sum infinity infinity

define sum of_type fn nat fn nat nat as 
    lambda x match x with
        one     to succ
        succ a  to lambda y succ sum a y

data nat contains
    one
    succ nat

define infinity of_type nat as succ infinity
